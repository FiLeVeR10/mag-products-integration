"use strict";jQuery(document).ready(function(a){a("body").on("click","#verify-magento-module",function(e){e.preventDefault(),a(this).append('<div class="spinner" style="margin: 0 0 0 10px; float: inherit; visibility: visible;"></div>');var i={action:"verify_magento_module_installation"};a.post(ajax_object.ajax_url,i,function(e){var t;e.installed?(t='<div class="updated notice"><p>'+e.message+"</p></div>",i={action:"get_available_stores",referer:a("#verify-magento-module").closest("form").find('input[name="_wp_http_referer"]').val()},a.post(ajax_object.ajax_url,i,function(e){a(".spinner").hide(),a("#wpbody-content > .wrap").html(e.html),a(".wrap > h2").after(t)})):(a(".error.notice.unable").remove(),a("#verify-magento-module .spinner").remove(),a(".wrap > h2").after('<div class="error notice unable"><p>'+e.message+"</p></div>"))})}).on("click",'input[name="mag_products_integration_cache_enabled"]',function(){a(this).is(":checked")?a(".cache-lifetime").show():a(".cache-lifetime").hide()}).on("click","#dismiss-module-notice",function(e){e.preventDefault();a(this).closest(".notice-dismiss").trigger("click"),a.post(ajax_object.ajax_url,{action:"dismiss_module_notice"},function(e){})}).on("click","[data-flush-cache]",function(e){e.preventDefault(),a(this).after('<div class="spinner" style="margin: 0 0 0 5px; float: inherit; visibility: visible;padding-bottom: 4px;"></div>');a.post(ajax_object.ajax_url,{action:"flush_cache"},function(e){a(".spinner").hide(),a(".notice.flush-cache").remove();var t='<div class="updated notice notice-success is-dismissible flush-cache"><p>'+e.message+"</p></div>",i=!1;a("body, html").animate({scrollTop:0},200,function(){i||(a(".wrap > h2").after(t),a(document).trigger("wp-updates-notice-added"),i=!0)})})}).on("change",'select[name="mag_products_integration_selected_store_class"]',function(e){var t={store_class:a(this).val(),action:"get_store_form"};a("#store-form").parents("fieldset").attr("disabled","disabled"),a(".loading-gif").show(),a.get(ajax_object.ajax_url,t,function(e){a("#store-form").html(e)}).always(function(){a(".loading-gif").hide(),a("#store-form").parents("fieldset").removeAttr("disabled")})})});